<header class="w-100">
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark border-bottom border-secondary">
    <div class="container-fluid">
      <!-- Logo -->
      <a class="navbar-brand fw-bold text-white" href="{{ routes.root_url }}">{{ shop.name }}</a>

      <!-- Mobile toggle -->
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNavbar" aria-controls="mainNavbar" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="mainNavbar">
        <!-- Navigation links -->
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          {% for link in section.settings.menu.links %}
            <li class="nav-item">
              <a class="nav-link text-light" href="{{ link.url }}">{{ link.title }}</a>
            </li>
          {% endfor %}
        </ul>

        <!-- Search bar -->
        <form class="d-flex align-items-center me-3 position-relative search-form" role="search" action="/search" method="get">
          <input
            class="form-control bg-dark text-light border-secondary search-input"
            type="search"
            placeholder="Search"
            name="q"
            aria-label="Search"
          />
          <button class="btn btn-outline-secondary icon-btn ms-2" type="submit" aria-label="Search">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
              <circle cx="11" cy="11" r="8"></circle>
              <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
          </button>
        </form>

        <!-- Icons -->
        <div class="d-flex align-items-center gap-2">
          {% if shop.customer_accounts_enabled %}
            <a href="{{ routes.account_url }}" class="btn btn-outline-secondary icon-btn" aria-label="Account">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="20" height="20" viewBox="0 0 24 24">
                <circle cx="12" cy="7" r="4" />
                <path d="M5.5 21a7.5 7.5 0 0 1 13 0" />
              </svg>
            </a>
          {% endif %}

          <a href="/account/settings" class="btn btn-outline-secondary icon-btn" aria-label="Settings">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
              <circle cx="12" cy="12" r="3" />
              <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33
              1.65 1.65 0 0 0-1 1.51V21a2 2 0 1 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51
              1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65
              1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 1 1 0-4h.09a1.65
              1.65 0 0 0 1.51-1 1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1
              2.83-2.83l.06.06a1.65 1.65 0 0 0 1.82.33h.09a1.65 1.65 0 0 0
              1-1.51V3a2 2 0 1 1 4 0v.09a1.65 1.65 0 0 0 1 1.51h.09a1.65
              1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65
              1.65 0 0 0-.33 1.82v.09a1.65 1.65 0 0 0 1.51 1H21a2 2 0 1 1 0 4h-.09
              a1.65 1.65 0 0 0-1.51 1z"/>
            </svg>
          </a>

          <a href="{{ routes.cart_url }}" class="btn btn-outline-secondary icon-btn position-relative" aria-label="Cart">
            {% if cart.item_count > 0 %}
              <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                {{ cart.item_count }}
                <span class="visually-hidden">items in cart</span>
              </span>
            {% endif %}
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="20" height="20" viewBox="0 0 24 24">
              <circle cx="9" cy="21" r="1" />
              <circle cx="20" cy="21" r="1" />
              <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6" />
            </svg>
          </a>
        </div>
      </div>
    </div>
  </nav>
</header>


{% stylesheet %}
  /* Expanding search field */
  .search-input {
    width: 150px;
    transition: width 0.4s ease;
  }

  .search-input:focus {
    width: 220px;
    background-color: #1e1e1e;
    color: #fff;
  }

  /* Icon button style */
  .icon-btn {
    width: 40px;
    height: 40px;
    padding: 0;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #ddd;
    border: 1px solid #6c757d;
    transition: all 0.2s ease;
  }

  .icon-btn:hover {
    background-color: #2a2a2a;
    color: #fff;
    border-color: #fff;
  }
{% endstylesheet %}

{% schema %}
{
  "name": "Header Template",
  "settings": [
    {
      "type": "link_list",
      "id": "menu",
      "label": "Navigation Menu"
    }
  ],
  "presets": [
    {
      "name": "Header with Icons and Search"
    }
  ]
}
{% endschema %}
